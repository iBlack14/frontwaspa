(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9813:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(878)}])},878:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(5893),a=r(3299),l=r(7294),s=r(7066),i=r(9332),o=r(4139),c=r(9157),d=r(683);let u=l.forwardRef(function(e,t){let{title:r,titleId:n,...a}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?l.createElement("title",{id:n},r):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))});var m=r(4712);function x(){let{data:e,status:t}=(0,a.useSession)(),r=(0,i.useRouter)(),[o,x]=(0,l.useState)(""),[f,h]=(0,l.useState)(null),[p,v]=(0,l.useState)(""),[b,w]=(0,l.useState)(""),[j,g]=(0,l.useState)(null),[k,N]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let t=async()=>{try{let t=(await s.Z.post("/api/user/get",{jwt:null==e?void 0:e.jwt})).data;x(t.email||""),v(t.username||""),h(t.documentId||""),w(t.key||"")}catch(e){var t,r,n;console.error("Error al obtener la informaci\xf3n del usuario:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),g("Error al obtener la informaci\xf3n del usuario: "+((null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.error)||e.message))}};(null==e?void 0:e.jwt)&&t()},[e]);let E=async()=>{try{await s.Z.post("/api/user/update",{username:p,key:b,jwt:null==e?void 0:e.jwt}),g(null),m.Am.success("Informaci\xf3n actualizada con \xe9xito")}catch(e){var t,r,n;console.error("Error al actualizar la informaci\xf3n:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),g("Error al actualizar la informaci\xf3n: "+((null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.error)||e.message)),m.Am.error("Error al actualizar la informaci\xf3n")}};return"unauthenticated"===t?(r.push("/login"),null):(0,n.jsxs)("div",{className:"p-5 max-w-md mx-auto",children:[(0,n.jsx)(m.x7,{richColors:!0})," ",(0,n.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Actualizar Informaci\xf3n del Usuario"}),j&&(0,n.jsx)("p",{className:"text-red-500 mb-4",children:j}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-zinc-400 font-medium mb-1",children:"Correo Electr\xf3nico"}),(0,n.jsx)("input",{type:"email",value:o,readOnly:!0,className:"p-2 w-full text-zinc-400 bg-zinc-900 border border-zinc-700 rounded-md focus:outline-none"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-zinc-400 font-medium mb-1",children:"Nombre de Usuario"}),(0,n.jsx)("input",{type:"text",value:p,onChange:e=>v(e.target.value),placeholder:"Nuevo nombre de usuario",className:"p-2 w-full text-zinc-400 bg-zinc-900 border border-zinc-700 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-zinc-400 font-medium mb-1",children:"Secret key"}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsxs)("div",{className:"relative w-full",children:[(0,n.jsx)("input",{type:k?"text":"password",value:b,readOnly:!0,className:"p-2 w-full text-zinc-400 bg-zinc-900 border border-zinc-700 rounded-md focus:outline-none pr-10"}),(0,n.jsx)("div",{className:"absolute inset-y-0 right-2 flex items-center",children:(0,n.jsx)("button",{onClick:()=>N(!k),className:"text-zinc-400 hover:text-white",children:k?(0,n.jsx)(c.Z,{className:"w-5 h-5"}):(0,n.jsx)(d.Z,{className:"w-5 h-5"})})})]}),(0,n.jsxs)("button",{onClick:()=>{w(Math.random().toString(36).substring(2,15))},className:"bg-amber-600 text-white px-4 py-2 rounded-md hover:bg-amber-700 transition flex items-center space-x-1",children:[(0,n.jsx)(u,{className:"w-5 h-5"}),(0,n.jsx)("span",{children:"Generar"})]})]})]}),(0,n.jsx)("button",{onClick:E,className:"bg-emerald-600 text-white px-4 py-2 w-full rounded-md hover:bg-emerald-700 transition mt-4",children:"Guardar"})]})]})}function f(){return(0,n.jsx)(o.default,{children:(0,n.jsx)(x,{})})}},683:function(e,t,r){"use strict";var n=r(7294);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});t.Z=a},9157:function(e,t,r){"use strict";var n=r(7294);let a=n.forwardRef(function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))});t.Z=a}},function(e){e.O(0,[141,675,261,712,139,888,774,179],function(){return e(e.s=9813)}),_N_E=e.O()}]);