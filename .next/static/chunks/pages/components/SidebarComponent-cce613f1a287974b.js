(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{8166:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/SidebarComponent",function(){return s(411)}])},411:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var n=s(5893),a=s(7294),r=s(3299);function i(e){var t;let{product:s}=e,{data:a}=(0,r.useSession)(),i="https://wazilrest.com/?clear_cart_and_add=".concat(s.id,"&email=").concat(encodeURIComponent(null!==(t=null==a?void 0:a.email)&&void 0!==t?t:"")),l=s.images&&s.images.length>0?s.images[0].src:"/images/placeholder-image.jpg";return(0,n.jsxs)("div",{className:"p-4 border border-zinc-700 rounded-lg shadow-md shadow-cyan-800 bg-zinc-900/50 transition-all duration-300 hover:shadow-cyan-600 hover:scale-105 flex flex-col",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,n.jsxs)("div",{className:"w-32 h-32 flex-shrink-0 relative",children:[(0,n.jsx)("img",{src:l,alt:s.name,className:"w-full h-full object-contain rounded-md",onError:e=>e.currentTarget.src="/images/placeholder-image.jpg"}),(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/70 to-transparent rounded-md"})]}),(0,n.jsxs)("div",{className:"flex-1 grid grid-cols-3 gap-2 items-center",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-xs text-zinc-400 font-semibold",children:"Nombre"}),(0,n.jsx)("span",{className:"text-md font-bold text-white truncate",children:s.name})]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-xs text-zinc-400 font-semibold",children:"Precio"}),(0,n.jsxs)("span",{className:"text-md font-semibold text-cyan-400",children:["$",s.price]})]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-xs text-zinc-400 font-semibold",children:"Acci\xf3n"}),(0,n.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"mt-1 bg-cyan-600 text-white px-3 py-1 rounded-lg hover:bg-cyan-700 transition-all duration-200 text-center font-medium",children:"Comprar"})]})]})]}),(0,n.jsx)("div",{className:"text-xs text-zinc-400 mt-2 line-clamp-2",children:s.description})]})}function l(e){let{isOpen:t,onToggle:s}=e,[r,l]=(0,a.useState)([]),[c,o]=(0,a.useState)(!1),[d,m]=(0,a.useState)(null);return(0,a.useEffect)(()=>{t&&(async()=>{o(!0),m(null);try{let e=await fetch("/api/woocommerce",{headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Error fetching products: ".concat(e.status));let t=(await e.json()).map(e=>({id:e.id,name:e.name,description:e.description.replace(/<[^>]+>/g,""),permalink:e.permalink,price:e.price,images:e.images||[]}));l(t)}catch(e){m(e.message||"Error al cargar productos.")}finally{o(!1)}})()},[t]),(0,n.jsxs)("div",{className:"fixed top-0 right-0 h-full w-xl bg-zinc-900/95 backdrop-blur-md p-8 shadow-lg transform transition-transform duration-500 ease-in-out ".concat(t?"translate-x-0":"translate-x-full"," overflow-y-auto"),onMouseLeave:()=>t&&s(),children:[(0,n.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-zinc-300 hover:text-white transition-colors",children:(0,n.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-white mb-6 tracking-tight",children:"Productos Disponibles"}),c?(0,n.jsx)("p",{className:"text-zinc-400",children:"Cargando productos..."}):d?(0,n.jsx)("p",{className:"text-red-500",children:d}):r.length>0?(0,n.jsx)("div",{className:"space-y-6",children:r.map(e=>(0,n.jsx)(i,{product:e},e.id))}):(0,n.jsx)("p",{className:"text-zinc-400",children:"No hay productos disponibles."})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8166)}),_N_E=e.O()}]);