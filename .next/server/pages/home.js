"use strict";(()=>{var e={};e.id=229,e.ids=[229,660],e.modules={18308:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>x,default:()=>m,getServerSideProps:()=>h,getStaticPaths:()=>g,getStaticProps:()=>p,reportWebVitals:()=>b,routeModule:()=>S,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>k,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>v});var n=r(87093),s=r(35244),l=r(1323),o=r(61682),i=r.n(o),c=r(81763),d=r(25665),u=e([d]);d=(u.then?(await u)():u)[0];let m=(0,l.l)(d,"default"),p=(0,l.l)(d,"getStaticProps"),g=(0,l.l)(d,"getStaticPaths"),h=(0,l.l)(d,"getServerSideProps"),x=(0,l.l)(d,"config"),b=(0,l.l)(d,"reportWebVitals"),v=(0,l.l)(d,"unstable_getStaticProps"),f=(0,l.l)(d,"unstable_getStaticPaths"),w=(0,l.l)(d,"unstable_getStaticParams"),j=(0,l.l)(d,"unstable_getServerProps"),k=(0,l.l)(d,"unstable_getServerSideProps"),S=new n.PagesRouteModule({definition:{kind:s.x.PAGES,page:"/home",pathname:"/home",bundlePath:"",filename:""},components:{App:c.default,Document:i()},userland:d});a()}catch(e){a(e)}})},25665:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>g});var n=r(20997),s=r(41649),l=r(16689),o=r(99648),i=r(39332),c=r(39322),d=r(37270),u=r(67777),m=e([o,d]);[o,d]=m.then?(await m)():m;let h=(0,l.lazy)(()=>Promise.all([r.e(141),r.e(646)]).then(r.bind(r,19646)));function p(){let{data:e,status:t}=(0,s.useSession)();(0,i.useRouter)();let[r,a]=(0,l.useState)([]),[o,c]=(0,l.useState)(null),[m,p]=(0,l.useState)([]),[g,x]=(0,l.useState)({}),[b,v]=(0,l.useState)(!0),[f,w]=(0,l.useState)(!1),j=(0,l.useRef)(null),k=e=>{c(e);let t=r.find(t=>t.documentId===e);p(t?.historycal_data||[]),w(!1)},S=r.find(e=>e.documentId===o),E=S?g[S.documentId]:null,P={labels:m.map(e=>e.date),datasets:[{label:"Messages Sent",data:m.map(e=>e.message_sent),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4},{label:"API Messages Sent",data:m.map(e=>e.api_message_sent),borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)",tension:.4},{label:"Messages Received",data:m.map(e=>e.message_received),borderColor:"rgba(255, 159, 64, 1)",backgroundColor:"rgba(255, 159, 64, 0.2)",tension:.4}]},y={responsive:!0,maintainAspectRatio:!0,aspectRatio:2,interaction:{mode:"nearest",intersect:!0},plugins:{legend:{position:"top"},title:{display:!0,text:"Historical Data"},tooltip:{enabled:!0,callbacks:{label:e=>{let t=e.dataset.label||"",r=e.parsed.y;return`${t}: ${r}`}}},datalabels:{display:!0,align:"top",formatter:e=>`${e}`,color:"#ffff",font:{weight:"bold",size:12}}},scales:{x:{min:0,max:m.length>0?m.length-1:0},y:{min:0,max:m.length>0?1.2*Math.max(...m.flatMap(e=>[e.message_sent,e.api_message_sent,e.message_received])):100}}};return(0,n.jsxs)("div",{className:"p-4",children:[n.jsx(d.Toaster,{richColors:!0,position:"top-right"}),b?n.jsx("p",{className:"text-zinc-400",children:"Loading instances..."}):0===r.length?n.jsx("p",{className:"text-zinc-400",children:"No instances available. Please create a new instance."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mb-4",children:[n.jsx("label",{className:"text-white mb-2 block",children:"Select Instance:"}),(0,n.jsxs)("div",{className:"relative",ref:j,children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 bg-zinc-800 border border-zinc-700 rounded-lg cursor-pointer hover:bg-zinc-700 transition",onClick:()=>w(!f),children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[S?.state==="Connected"&&E?.profilePicUrl&&n.jsx("img",{src:E.profilePicUrl,alt:"Profile",className:"w-8 h-8 rounded-full object-cover border-2 border-green-500",onError:e=>e.currentTarget.src="/logo/profile.png"}),(0,n.jsxs)("span",{className:"text-white",children:[S?.documentId||"Select an instance"," ",S?.state==="Connected"&&E?.name?`(${E.name} - ${E.number})`:""]})]}),n.jsx(u.Z,{className:`w-5 h-5 text-white transition-transform ${f?"rotate-180":""}`})]}),f&&n.jsx("div",{className:"absolute z-10 mt-2 w-full bg-zinc-800 border border-zinc-700 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:r.map(e=>{let t=g[e.documentId];return(0,n.jsxs)("div",{className:"flex items-center gap-3 p-3 hover:bg-zinc-700 cursor-pointer transition",onClick:()=>k(e.documentId),children:["Connected"===e.state&&t?.profilePicUrl&&n.jsx("img",{src:t.profilePicUrl,alt:"Profile",className:"w-8 h-8 rounded-full object-cover border-2 border-green-500",onError:e=>e.currentTarget.src="/logo/profile.png"}),(0,n.jsxs)("div",{children:[n.jsx("span",{className:"text-white",children:e.documentId}),"Connected"===e.state&&t?.name&&(0,n.jsxs)("span",{className:"text-zinc-400 text-sm block",children:[t.name," - ",t.number]})]}),n.jsx("span",{className:`ml-auto text-xs px-2 py-1 rounded-full ${"Connected"===e.state?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.state})]},e.documentId)})})]})]}),m.length>0?n.jsx(l.Suspense,{fallback:n.jsx("div",{className:"flex items-center justify-center h-[500px]",children:n.jsx("div",{className:"text-zinc-400",children:"Cargando gr\xe1fico..."})}),children:n.jsx(h,{data:P,options:y})}):n.jsx("p",{className:"text-zinc-400",children:"No historical data available for this instance."})]})]})}function g(){return n.jsx(c.default,{children:n.jsx(p,{})})}a()}catch(e){a(e)}})},30723:e=>{e.exports=require("chartjs-plugin-datalabels")},41649:e=>{e.exports=require("next-auth/react")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},16689:e=>{e.exports=require("react")},66405:e=>{e.exports=require("react-dom")},20997:e=>{e.exports=require("react/jsx-runtime")},74836:e=>{e.exports=import("@kurkle/color")},99648:e=>{e.exports=import("axios")},37270:e=>{e.exports=import("sonner")},71017:e=>{e.exports=require("path")},43271:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(16689);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))})},85291:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(16689);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))})},67777:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(16689);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))})},61871:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(16689);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))})},53087:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(16689);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},57991:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(16689);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H6.911a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661Z"}))})},7195:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(16689);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122"}))})},47365:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(16689);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))})},91665:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(16689);let n=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))})}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[682,830,675,773],()=>r(18308));module.exports=a})();